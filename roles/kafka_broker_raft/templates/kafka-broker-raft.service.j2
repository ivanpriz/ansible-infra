[Unit]
Description=Kafka Broker Service (Kraft)
Requires=network.target                 
After=network.target                 

[Service]
Type=simple
ProtectHome=off
ExecStart=KAFKA_OPTS="-Djava.security.auth.login.config={{ kafka_unzip_path }}/kafka_2.12-3.8.0/config/kraft/jaas.conf" {{ kafka_unzip_path }}/kafka_2.12-3.8.0/bin/kafka-server-start.sh {{ kafka_unzip_path }}/kafka_2.12-3.8.0/config/kraft/server.properties
ExecStop={{ kafka_unzip_path }}/kafka_2.12-3.8.0/bin/kafka-server-stop.sh
Restart=on-abnormal

[Install]
WantedBy=multi-user.target